<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.uppower.project.cashiermanagesystem.dao.UsersMapper">

    <select id="show" resultType="org.uppower.project.cashiermanagesystem.model.result.UserResult">
        select a.id,a.open_id,a.phone,a.vipcode,a.birthday,b.Integral,b.experience
        from users as a
        inner join user_account as b
        where a.id = #{id} and a.id=b.user_id
    </select>
    <select id="getDiscount"
            resultType="org.uppower.project.cashiermanagesystem.model.dto.UserDiscountDto">
        select a.id,a.pattern,a.target,a.remission,a.discount,a.start_time,a.end_time,b.status
        from discounts  as a
        inner join user_discount as b
        where a.id=b.discount_id
        and b.user_id=#{id};
    </select>
</mapper>
